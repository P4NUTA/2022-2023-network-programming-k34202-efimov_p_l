University: ITMO University  
Faculty: FICT  
Course: Network programming  
Year: 2022  
Group: K34202  
Author: Efimov Pavel Leonidovich  
Lab: Lab3  
Date of create: 12.12.2022  
Date of finished:

Цель работы: Развертывание Netbox, сеть связи как источник правды в системе технического учета Netbox.

Ход работы:

1. Была поднята вторая виртуальная машина на Yandex.Cloud, на ней установлена программа Netbox с помощью docker-compose.

![img.png](img.png)

2. Была проверена работа Netbox в браузере основного компьютера.

![img_1.png](img_1.png)

3. Были созданы сайт, роль router, мануфактура MikroTik, тип девайса RouterOS7, для создания девайсов

![img_2.png](img_2.png)
![img_3.png](img_3.png)
![img_4.png](img_4.png)
![img_5.png](img_5.png)

4. Были созданы роутеры, добавлены необходимые настройки

![img_6.png](img_6.png)

5. Был скачан csv файл с содержанием информации о наших девайсах, данный файл был установлен на основной компьютер с
   помощью утилиты scp. Был написана
   команда `scp C:\Users\Pavel\Downloads\netbox_devices.csv np-login@51.250.54.45:~/netbox_devices.csv`

6. Был написан скрипт для получения данных из таблицы csv и проверена его работа.

![img_10.png](img_10.png)
![img_7.png](img_7.png)

7. Был написан скрипт для изменения названия роутеров MikroTik, скрипт был запущен и проверен.

![img_9.png](img_9.png)
![img_8.png](img_8.png)
![img_11.png](img_11.png)

8. Скрипт успешно изменил название роутеров
9Далее был написан скрипт для записи данных в Netbox. Была проверена его работа. Поскольку виртуальные машины находятся в Yandex.Cloud, я создал отдельную сеть для их работы

![img_12.png](img_12.png)
![img_13.png](img_13.png)

10. Скрипт успешно отработал, добавив информацию в Netbox о девайсах
11. Нарисована схема сети

![drawio.png](drawio.png)

12. Проверена работа сети

![img_14.png](img_14.png)
![img_15.png](img_15.png)  
Результат пинга между виртуальными машинами

![img_16.png](img_16.png)
![img_17.png](img_17.png)  
Результаты пингов от виртуальной машины к роутерам

![img_18.png](img_18.png)
![img_19.png](img_19.png)  
Результат пингов между роутерами

Выводы:
В ходе выполнения лабораторной работы были с помощью Ansible и Netbox собрана вся возможная информация об устройствах и сохранена в отдельном файле.
